webpackJsonp([19],{smzg:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("Dd8w"),l=a.n(s),r=a("NYxO"),n=a("vLgD"),o=a("vMJZ"),i={name:"userManage",components:{panThumb:a("kCe2").a},data:function(){return{activeName:"worker",workers:[],requesters:[],chosenRequester:[{id:"123"}],showRequesterDetail:!1,loadingWorkers:!1,loadingRequesters:!1,chosenUserInfo:{}}},computed:l()({currentDate:function(){return(new Date).toLocaleString()}},Object(r.b)(["avatarBoss","roles"])),methods:{viewRequesterDetail:function(e){var t=this;Object(o.g)(e).then(function(e){e.data.result?t.chosenUserInfo=e.data.message:t.$message({message:e.data.message,type:"warning"})}).then(Object(o.f)(e).then(function(a){if(a.data.result){var s=[];s[0]=a.data.message,s[0].id=e,t.chosenRequester=s,t.showRequesterDetail=!0}else t.$message({message:a.data.message,type:"warning"})}))},goRecommend:function(e){this.$store.commit("REC_WORKER",{id:e}),this.$router.push("/recommend")}},created:function(){var e=this;this.loadingWorkers=!0,Object(n.a)({url:"/getAllWorkers",method:"get"}).then(function(t){e.loadingWorkers=!1,t.data.result?e.workers=t.data.message:e.$message({message:t.data.message,type:"warning"})}),this.loadingRequesters=!0,Object(n.a)({url:"/getAllRequesters",method:"get"}).then(function(t){e.loadingRequesters=!1,t.data.result?e.requesters=t.data.message:e.$message({message:t.data.message,type:"warning"})})}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingWorkers,expression:"loadingWorkers"}],attrs:{label:"众包工人",name:"worker"}},[a("h3",[e._v("截至"+e._s(e.currentDate)+"，系统共有"+e._s(e.workers.length)+"个注册的工人")]),e._v(" "),a("el-table",{attrs:{data:e.workers,border:"",height:"500"}},[a("el-table-column",{attrs:{prop:"id",sortable:"",label:"账号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"nickname",label:"昵称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"points",sortable:"",label:"积分"}}),e._v(" "),a("el-table-column",{attrs:{prop:"email",label:"邮箱"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.goRecommend(t.row.id)}}},[e._v("详细资料")])]}}])})],1)],1),e._v(" "),a("el-tab-pane",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingRequesters,expression:"loadingRequesters"}],attrs:{label:"发包企业",name:"requester"}},[a("h3",[e._v("截至"+e._s(e.currentDate)+"，系统共有"+e._s(e.requesters.length)+"个注册的发包企业")]),e._v(" "),a("el-table",{attrs:{data:e.requesters,border:"",height:"500"}},[a("el-table-column",{attrs:{prop:"id",sortable:"",label:"账号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"nickname",label:"昵称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"points",sortable:"",label:"积分"}}),e._v(" "),a("el-table-column",{attrs:{prop:"email",label:"邮箱"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.viewRequesterDetail(t.row.id)}}},[e._v("更多资料")])]}}])})],1)],1),e._v(" "),a("el-dialog",{attrs:{visible:e.showRequesterDetail,center:"",width:"80%"},on:{"update:visible":function(t){e.showRequesterDetail=t}}},[a("el-card",{staticClass:"box-card",staticStyle:{"margin-bottom":"6px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("发包者信息")])]),e._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"flex-start"}},[a("div",[a("pan-thumb",{staticStyle:{width:"50px",height:"50px"},attrs:{image:e.avatarBoss}})],1),e._v(" "),a("el-form",{staticStyle:{"margin-left":"20px",width:"100%"},attrs:{inline:""}},[a("el-form-item",{attrs:{label:"账号"}},[a("b",[e._v(e._s(e.chosenUserInfo.id))])]),e._v(" "),a("el-form-item",{attrs:{label:"昵称"}},[a("b",[e._v(e._s(e.chosenUserInfo.nickname))])]),e._v(" "),a("el-form-item",{attrs:{label:"邮箱"}},[a("b",[e._v(e._s(e.chosenUserInfo.email))])]),e._v(" "),a("el-form-item",{attrs:{label:"密码"}},[a("b",[e._v("********")])]),e._v(" "),a("el-form-item",{attrs:{label:"积分"}},[a("b",[e._v(e._s(e.chosenUserInfo.points))])])],1)],1)]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.chosenRequester,border:""}},[a("el-table-column",{attrs:{label:"已发布任务",prop:"releasedMissions"}}),e._v(" "),a("el-table-column",{attrs:{label:"支付积分",prop:"paidPoints"}})],1)],1)],1)],1)},staticRenderFns:[]},u=a("VU/8")(i,c,!1,null,null,null);t.default=u.exports}});